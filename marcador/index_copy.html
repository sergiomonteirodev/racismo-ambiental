<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image.prod.js"></script>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image-aframe.prod.js"></script>
    <script src="https://unpkg.com/aframe-chromakey-material/dist/aframe-chromakey-material.min.js"></script>
    <script>

document.addEventListener("DOMContentLoaded", function() {
	const sceneEl = document.querySelector('a-scene');

    this.vid = document.querySelector("#vid");

    // detect target found
    sceneEl.addEventListener("targetFound", event => {
          console.log("target found");
        });
    // detect target lost
    sceneEl.addEventListener("targetLost", event => {
          console.log("target lost");
          
        });
});
        // AFRAME.registerComponent("videohandler", {
        //   init: function () {
        //     var marker = this.el;
  
        //     this.vid = document.querySelector("#video");
  
        //     marker.addEventListener(
        //       "markerFound",
        //       function () {
        //         console.log("markerFound");
  
        //         this.vid.play();
        //       }.bind(this)
        //     );
  
        //     marker.addEventListener(
        //       "markerLost",
        //       function () {
        //         console.log("markerLost");
        //         this.vid.pause();
        //         this.vid.currentTime = 0;
        //       }.bind(this)
        //     );
        //   }
        // });
        </script>
    <title>Ayiamioja</title>
  </head>

  <body>

    <a-scene
       mindar-image="imageTargetSrc: assets/targets.mind"
       color-space="sRGB"
       renderer="colorManagement: true, physicallyCorrectLights"
       vr-mode-ui="enabled: false"
       device-orientation-permission-ui="enabled: false">

        <a-assets>
            <!-- <img src="https://cdn.glitch.global/55304dfe-0e9a-43a8-85ba-041d385bacbb/photo1712968546.jpeg?v=1714142784791" id="paginaTeste"> -->
            <!-- <img id="card" src="https://cdn.glitch.global/1afea31e-04f2-4df6-a97d-f92dc1e051ed/ativador.jpeg?v=1719696052049" /> -->
          <a-asset-item id="avatarModel" src="assets/barreira.gltf"></a-asset-item>

        </a-assets>
        <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

        <a-entity mindar-image-target="targetIndex:0" scale="4 4 4">
           <!-- <a-image id="card" position="0 0 0" width="1" height="0.552" src="#paginaTeste"></a-image> -->
           <!-- <a-video id="video" src="#vid" width="16" height="9" position="0 0 0" scale="0.065 0.065 1"></a-video> -->
           <!-- <a-plane src="#card" position="0 0 0" height="0.552" width="1" rotation="0 0 0"></a-plane> -->
          <a-gltf-model rotation="0 0 0 " position="0 0 0.1" src="#avatarModel"></a-gltf-model>
        </a-entity>

        
    </a-scene>
  </body>
</html>